# echoSever

本节存放实现的回射服务器的第一个版本,以后的版本将在这个版本的基础上进行修改,其余的readme将只记录为什么做修改以及做了哪些修改.

这个程序实现的功能是,客户端程序从界面读入字符串,发送给服务器,并从服务器读回程字串,将其显示在stdin.服务器程序接收客户端的输入,将其返回给客户端.

这里用到了9600端口，这是可以随机分配的端口段，不占用具有众所周知功能的端口号。

## 僵死进程的处理

僵死进程存在的原因是为了使父进程在子进程终止后，能够查看子进程的终止信息，子进程PID，使用资源信息等。僵死进程会占用系统空间。对于父进程没有处理的僵死进程，在父进程结束后，其父进程会变成init进程（PID=0），由init清理。

处理僵死进程的可以调用两个函数，wait和waitpid，后者能够处理多个子进程同时发送终止信号的情况，所以多采用后者。

## 慢速系统调用被中断

在慢速系统调用阻塞过程中，如果产生子进程终止信号，会中断慢速系统应用，此时慢速系统调用会在处理函数运行完毕后，将errno置为EINTR，我们需要判断慢速系统调用的退出条件，保证在这种情况下，系统能够正常运行。

## 错误整理

1，服务器在客户端登录时，立即退出。

这里我犯了一个低级错误，将accept函数返回值的>0进入while循环的判断，写成了<0进入while循环。从而导致了accept正常接受，反而退出程序了。

同时也说明了程序做好错误打印的必要性，如果我在accept函数接受失败后，打印错误就不会出现类似的情况了。
