## 路由套接字

用来和内核通信，获取路由表信息。通信方式和套接字通信相同，即发送请求接收应答。

### 通信流程

1、创建套接字

socket(AF_ROUTE,SOCK_RAW,0);

2、构造请求消息

共有12种路由消息，其中五个可以由进程向内核发送。每种消息都对应一种结构体（几种消息可能对应同一种结构），在消息发送和接收前，需要先在结构中对应位置填充信息并在结构后面留出存放返回的地址信息的buffer空间。

3、消息发送与接收

将上面构造的结构传递给函数。和套接字通信相同也采用write，read函数进行通信。

注意：内核将路由消息发送给所有的路由套接字，所以在接收消息时要检查消息类型，序列号，进程ID是否和请求的一致，一致才说明是发送给自己的消息。

### 相关函数

sysctl参见socket/functionSys.h
